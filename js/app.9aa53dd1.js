(function(){"use strict";var e={2849:function(e,t,l){var a=l(5130),n=l(6768);const i={id:"input-data"},o=(0,n.Lk)("span",{class:"headline3"},"Исходные данные",-1),s={id:"actions"},u={key:0,id:"answer"},r={class:"headline5"},d={class:"headline5"},c={class:"headline5"},p={class:"headline5"},h=(0,n.Lk)("br",null,null,-1),b=(0,n.Lk)("br",null,null,-1),x=(0,n.Lk)("br",null,null,-1),m={class:"headline5"},f={class:"headline5"},k=(0,n.Lk)("span",{class:"headline5"},"Шаги нахождения коэффициента детерминации R:",-1),y=(0,n.Lk)("li",null,"Рассчитываем сумму квадратов отклонений:",-1),g=(0,n.Lk)("li",null,"Рассчитываем сумму квадратов регрессии:",-1),v=(0,n.Lk)("li",null,"Рассчитываем коэффициент:",-1),X=(0,n.Lk)("span",{class:"headline5"}," Шаги нахождения нормированных коэффициентов регрессии: ",-1),F=(0,n.Lk)("li",null,"Рассчитываем стандартное отклонение остатков:",-1),S={style:{"list-style":"circle"}},T=(0,n.Lk)("li",null,"Рассчитываем среднеквадратичное отклонение:",-1);function L(e,t,l,L,_,W){const C=(0,n.g2)("MathJax"),E=(0,n.g2)("Btn"),$=(0,n.g2)("Field"),M=(0,n.g2)("Dialog");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",i,[o,(0,n.bF)(C,{latex:e.visualInputData,block:!0},null,8,["latex"]),(0,n.Lk)("div",s,[(0,n.bF)(E,{label:"Изменить",onClick:t[0]||(t[0]=t=>e.showDialog=!0)}),(0,n.bF)(E,{label:"Решить",filled:"",onClick:t[1]||(t[1]=t=>e.getAnswer())})])]),e.isDone?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("span",r,[(0,n.eW)(" Формула для вычисления коэффициентов "),(0,n.bF)(C,{latex:"\\(\\beta\\)"})]),(0,n.bF)(C,{latex:"\\beta = (X^T X)^{-1} X^T \\vec{y}",block:""}),(0,n.Lk)("span",d,[(0,n.Lk)("b",null,[(0,n.eW)("Шаг 1: Найти "),(0,n.bF)(C,{latex:"\\(X^T\\)"})]),(0,n.eW)(" (транспонированная матрица "),(0,n.bF)(C,{latex:"\\(X\\)"}),(0,n.eW)("): ")]),(0,n.bF)(C,{latex:"X^T ="+e.matrixToHtml(e.XTranspose),block:""},null,8,["latex"]),(0,n.Lk)("span",c,[(0,n.Lk)("b",null,[(0,n.eW)("Шаг 2: Найти "),(0,n.bF)(C,{latex:"\\(X^T X\\)"})]),(0,n.eW)(" (перемножение транспонированной матрицы "),(0,n.bF)(C,{latex:"\\(X\\)"}),(0,n.eW)(" с самой матрицей "),(0,n.bF)(C,{latex:"\\(X\\)"}),(0,n.eW)("): ")]),(0,n.bF)(C,{latex:"X^T X ="+e.matrixToHtml(e.XTX),block:""},null,8,["latex"]),(0,n.Lk)("span",p,[(0,n.Lk)("b",null,[(0,n.eW)("Шаг 3: Найти "),(0,n.bF)(C,{latex:"\\((X^T X)^{-1}\\)"})]),(0,n.eW)(" (обратная матрица для "),(0,n.bF)(C,{latex:"\\(X^T X\\)"}),(0,n.eW)("): ")]),h,(0,n.eW)(" Сначала вычислим определитель "),(0,n.bF)(C,{latex:"\\(\\text{det}(X^T X)\\)"}),(0,n.eW)(", а затем используем метод Гаусса или формулу для обратной матрицы."),b,x,(0,n.Lk)("span",m,[(0,n.Lk)("b",null,[(0,n.eW)("Шаг 4: Найти "),(0,n.bF)(C,{latex:"\\(X^T \\vec{y}\\)"})]),(0,n.eW)(": ")]),(0,n.bF)(C,{latex:"X^T \\vec{y} = "+e.matrixToHtml(e.XTXInverse),block:""},null,8,["latex"]),(0,n.Lk)("span",f,[(0,n.Lk)("b",null,[(0,n.eW)("Шаг 5: Найти "),(0,n.bF)(C,{latex:"\\(\\beta\\)"})]),(0,n.eW)(", перемножив "),(0,n.bF)(C,{latex:"\\((X^T X)^{-1}\\)"}),(0,n.eW)(" на "),(0,n.bF)(C,{latex:"\\(X^T \\vec{y}\\)"}),(0,n.eW)(": ")]),(0,n.bF)(C,{latex:"\\beta = "+e.matrixToHtml(e.beta),block:""},null,8,["latex"]),k,(0,n.Lk)("ol",null,[(0,n.Lk)("li",null,[(0,n.eW)(" Рассчитываем прогнозные значения ("),(0,n.bF)(C,{latex:"\\(X \\beta\\)"}),(0,n.eW)(") ")]),(0,n.bF)(C,{latex:"X \\beta = "+e.matrixToHtml(e.yHat),block:""},null,8,["latex"]),(0,n.Lk)("li",null,[(0,n.eW)("Рассчитываем среднее значение "),(0,n.bF)(C,{latex:"\\(\\vec{y}\\)"}),(0,n.eW)(":")]),(0,n.bF)(C,{latex:`\\bar{y} = \\frac{1}{n} \\sum y_i = ${e.yMean}`,block:""},null,8,["latex"]),y,(0,n.bF)(C,{latex:`\\text{SST} = \\sum_{i=1}^{n} (y_i - \\bar{y})^2 = ${e.SST}`,block:""},null,8,["latex"]),g,(0,n.bF)(C,{latex:`\\text{SSR} = \\sum_{i=1}^{n} (\\hat{y}_i - \\bar{y})^2 = ${e.SSR}`,block:""},null,8,["latex"]),v,(0,n.bF)(C,{latex:"R = \\frac{\\text{SSR}}{\\text{SST}} = "+e.SSR/e.SST,block:""},null,8,["latex"])]),X,(0,n.Lk)("ol",null,[(0,n.Lk)("li",null,[(0,n.eW)(" Находим отклонения от случайного фактора по формуле "),(0,n.bF)(C,{latex:"\\(e_i = y_i - \\hat{y}_i\\)"}),(0,n.eW)(": ")]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.residuals,((t,l)=>((0,n.uX)(),(0,n.Wv)(C,{latex:`e_${l+1} = ${e.y[l][0]} - ${e.yHat[l][0].toFixed(4)} = ${t.toFixed(4)}`,block:""},null,8,["latex"])))),256)),F,(0,n.bF)(C,{latex:"SE = \\sqrt{\\frac{\\text{SSR}}{n - p}} = "+e.SE.toFixed(4),block:""},null,8,["latex"]),(0,n.eW)(" Где: "),(0,n.Lk)("ol",S,[(0,n.Lk)("li",null,[(0,n.bF)(C,{latex:"\\( SE \\)"}),(0,n.eW)(" — стандартное отклонение остатков,")]),(0,n.Lk)("li",null,[(0,n.bF)(C,{latex:"\\( \\text{SSR} \\)"}),(0,n.eW)(" — сумма квадратов остатков, ")]),(0,n.Lk)("li",null,[(0,n.bF)(C,{latex:"\\( n \\)"}),(0,n.eW)(" — общее количество наблюдаемых данных, ")]),(0,n.Lk)("li",null,[(0,n.bF)(C,{latex:"\\( p \\)"}),(0,n.eW)(" — количество параметров модели (включая свободный член). ")])]),T,(0,n.bF)(C,{latex:`S_y = \\sqrt{\\frac{\\sum (y_i - \\bar{y})^2}{n}} = \\sqrt{\\frac{${e.SST.toFixed(4)}}{${e.y.length}}} = ${e.SEY.toFixed(4)}`,block:""},null,8,["latex"]),(0,n.Lk)("li",null,[(0,n.eW)(" Находим диагональные элементы матрицы "),(0,n.bF)(C,{latex:"\\((X'X)^{-1}\\)"}),(0,n.eW)(": ")]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.diagonalElements,((e,t)=>((0,n.uX)(),(0,n.Wv)(C,{latex:`b_{${t+1}${t+1}} = ${e.toFixed(4)}`,block:""},null,8,["latex"])))),256)),(0,n.Lk)("li",null,[(0,n.eW)(" Рассчитываем нормированные коэффициенты регрессии по формуле "),(0,n.bF)(C,{latex:"\\(a_j = \\frac{\\beta_j S_{x_j}}{S_y}\\)"}),(0,n.eW)(": ")]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.betaNormalized,((e,t)=>((0,n.uX)(),(0,n.Wv)(C,{latex:`a_${t} = ${e}`,block:""},null,8,["latex"])))),256))])])):(0,n.Q3)("",!0),(0,n.bF)(M,{modelValue:e.showDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.showDialog=t),title:"Ввод данных",description:"Вводите значения матрицы через запятую, каждую строку разделяйте enter. Значения (y) можно ввести одной строкой разделяя запятой",permanent:""},{body:(0,n.k6)((()=>[(0,n.bo)((0,n.Lk)("textarea",{class:"field",style:{resize:"vertical",height:"200px"},"onUpdate:modelValue":t[2]||(t[2]=t=>e.x_dialog=t)},null,512),[[a.Jo,e.x_dialog]]),(0,n.bF)($,{label:"Вектор y",modelValue:e.y_dialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.y_dialog=t)},null,8,["modelValue"])])),actions:(0,n.k6)((()=>[(0,n.bF)(E,{label:"Закрыть",onClick:t[4]||(t[4]=t=>e.showDialog=!1)}),(0,n.bF)(E,{label:"Готово",filled:"",onClick:t[5]||(t[5]=t=>e.getInput())})])),_:1},8,["modelValue"])],64)}l(4114);var _=l(3493),W=l(4232);const C=["textContent"],E={class:"state-layer"},$={class:"loader"};function M(e,t,l,i,o,s){return(0,n.uX)(),(0,n.CE)("div",{onClick:t[0]||(t[0]=(...t)=>e.onclick&&e.onclick(...t)),onKeypress:t[1]||(t[1]=(0,a.jR)(((...t)=>e.onclick&&e.onclick(...t)),["enter"])),class:(0,W.C4)(["btn",e.classes]),tabindex:"0"},[(0,n.RG)(e.$slots,"default"),(0,n.Lk)("span",{class:"label-large",textContent:(0,W.v_)(e.label)},null,8,C),(0,n.Lk)("div",E,[(0,n.bo)((0,n.Lk)("div",$,null,512),[[a.aG,e.loading]])])],34)}var w=(0,n.pM)({name:"Button",props:{label:{type:String,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},text:{type:Boolean,default:!0},filled:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1}},emits:["click"],computed:{classes(){return{icon:!!this.$slots.default,loading:this.loading,disabled:this.disabled,text:this.isText,filled:this.isFilled,outlined:this.isOutlined}},isText(){return!this.isFilled&&!this.isOutlined&&this.text},isFilled(){return!this.isOutlined&&this.filled},isOutlined(){return this.outlined}},methods:{onclick(e){this.disabled||this.loading||this.$emit("click",e)}}}),V=l(1241);const D=(0,V.A)(w,[["render",M]]);var R=D;const O=["textContent"],H=["type","name","value","autocomplete"],B=["textContent"];function I(e,t,l,a,i,o){return(0,n.uX)(),(0,n.CE)("label",{class:(0,W.C4)(["field",{empty:!e.modelValue,error:e.error,focussed:e.focussed}])},[e.label?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"label",textContent:(0,W.v_)(e.label)},null,8,O)):(0,n.Q3)("",!0),(0,n.Lk)("input",{type:e.type,name:e.name,value:e.modelValue,autocomplete:e.autocomplete,onInput:t[0]||(t[0]=(...t)=>e.inputText&&e.inputText(...t)),onFocus:t[1]||(t[1]=t=>e.focussed=!0),onBlur:t[2]||(t[2]=t=>e.focussed=!1)},null,40,H),(0,n.Lk)("span",{class:"icon material-icons-round",onClick:t[3]||(t[3]=t=>e.$emit("update:modelValue","")),textContent:(0,W.v_)(e.error?"":"")},null,8,B)],2)}var j=(0,n.pM)({name:"Text Field",props:{type:{type:String,default:"text"},name:{type:String,default:""},label:{type:String,default:""},error:{type:Boolean,default:!1},modelValue:{type:String,default:""},autocomplete:{type:String,default:"off"}},emits:["update:modelValue"],data:()=>({focussed:!1}),methods:{inputText(e){const t=e.target;t&&this.$emit("update:modelValue",t.value)}}});const q=(0,V.A)(j,[["render",I]]);var A=q;const G=["textContent"],Y={class:"body"},K=["textContent"],z={class:"actions"};function U(e,t,l,i,o,s){return(0,n.uX)(),(0,n.Wv)(n.Im,{to:"body"},[(0,n.bF)(a.eB,{name:"dialog-transition"},{default:(0,n.k6)((()=>[e.show?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"dialog",onClick:t[0]||(t[0]=(0,a.D$)(((...t)=>e.onMask&&e.onMask(...t)),["self"]))},[(0,n.Lk)("div",{class:(0,W.C4)(["dialog-content",{maskClick:e.clicked}])},[(0,n.RG)(e.$slots,"icon"),(0,n.bo)((0,n.Lk)("span",{class:"headline-small",textContent:(0,W.v_)(e.title)},null,8,G),[[a.aG,e.title]]),(0,n.Lk)("div",Y,[(0,n.bo)((0,n.Lk)("span",{class:"body-medium",textContent:(0,W.v_)(e.description)},null,8,K),[[a.aG,e.description]]),(0,n.RG)(e.$slots,"body")]),(0,n.Lk)("div",z,[(0,n.RG)(e.$slots,"actions")])],2)])):(0,n.Q3)("",!0)])),_:3})])}var J=(0,n.pM)({name:"Dialog",props:{title:{type:String},description:{type:String},permanent:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data:()=>({clicked:!1}),computed:{show:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{onMask(){this.permanent?(this.clicked=!0,setTimeout((()=>this.clicked=!1),300)):this.show=!1},listener(e){this.show&&"Escape"===e.code&&(e.preventDefault(),this.show=!1)}},beforeMount(){document.addEventListener("keyup",this.listener)},beforeUnmount(){document.removeEventListener("keyup",this.listener)}});const N=(0,V.A)(J,[["render",U]]);var Q=N,P=(0,n.pM)({name:"App",components:{Btn:R,Field:A,Dialog:Q,MathJax:_.Eg},data:()=>({isDone:!1,showDialog:!1,x_dialog:"",y_dialog:"",x_input:[[29,7,.09,2.8],[34,9,.1,4.1],[43,26,.08,4],[33,24,.12,5],[53,13,.14,2.7],[26,12,.13,3.4],[32,23,.1,4.8],[51,8,.12,2.9],[43,22,.15,3.7],[29,9,.02,3.5],[37,12,.08,5],[49,5,.14,4.1],[57,11,.11,3.6],[46,15,.06,4.7],[29,21,.15,2.8]],y:[5.73,7.85,12.53,12.28,7.47,5.23,12.16,6.86,11.02,7.77,10.62,7.4,10.55,12.3,7.83].map((e=>[e])),XTranspose:[],XTX:[],XTXInverse:[],beta:[],yHat:[],yMean:0,SST:0,SSR:0,residuals:[],SE:0,diagonalElements:[],SEY:0,betaNormalized:[]}),computed:{x(){return this.x_input.map((e=>[1,...e]))},visualInputData(){return"X = "+this.matrixToHtml(this.x_input)+", \\quad \\vec{y} = "+this.matrixToHtml(this.y)}},methods:{matrixToHtml(e,t=2){return"\\begin{pmatrix} "+e.map((e=>e.map((e=>e.toFixed(t))).join(" & "))).join("\\\\ ")+" \\end{pmatrix}"},getInput(){this.x_input=this.x_dialog.trim().split("\n").map((e=>e.split(",").map((e=>parseFloat(e))))),this.y=this.y_dialog.trim().split(",").map((e=>[parseFloat(e)])),this.showDialog=!1},getAnswer(){function e(e){return e[0].map(((t,l)=>e.map((e=>e[l]))))}function t(t,l){return t.map((t=>e(l).map((e=>t.reduce(((t,l,a)=>t+l*e[a]),0)))))}function l(e){let t=e.length,l=Array(t).fill().map((()=>Array(t).fill()));for(let a=0;a<t;++a)for(let e=0;e<t;++e)l[a][e]=a===e?1:0;for(let a=0;a<t;++a){let n=a;for(let l=a+1;l<t;++l)Math.abs(e[l][a])>Math.abs(e[n][a])&&(n=l);[e[a],e[n]]=[e[n],e[a]],[l[a],l[n]]=[l[n],l[a]];for(let i=0;i<t;++i)if(i!==a){let n=e[i][a]/e[a][a];for(let l=a+1;l<t;++l)e[i][l]-=n*e[a][l];for(let e=0;e<t;++e)l[i][e]-=n*l[a][e]}}for(let a=0;a<t;++a){let n=e[a][a];for(let e=0;e<t;++e)l[a][e]/=n}return l}function a(e){const t=e.reduce(((e,t)=>e+t),0);return t/e.length}function n(e){const t=a(e),l=e.map((e=>Math.pow(e-t,2))),n=a(l);return Math.sqrt(n)}function i(e,t=!0){const l=e[0].length,a=t?1:0,n=[];for(let i=a;i<l;i++){const t=e.map((e=>e[i]));n.push(t)}return n}this.XTranspose=e(this.x),this.XTX=t(this.XTranspose,this.x),this.XTXInverse=l(this.XTX),this.XTY=t(this.XTranspose,this.y),this.beta=t(this.XTXInverse,this.XTY),this.yHat=t(this.x,this.beta),this.yMean=this.y.reduce(((e,t)=>e+t[0]),0)/this.y.length,this.SST=this.y.reduce(((e,t)=>e+(t[0]-this.yMean)**2),0),this.SSR=this.yHat.reduce(((e,t)=>e+(t[0]-this.yMean)**2),0),this.residuals=this.y.map(((e,t)=>e[0]-this.yHat[t][0])),this.SE=Math.sqrt(this.SSR/(this.y.length-this.x[0].length)),this.diagonalElements=l(t(e(this.x),this.x)).map(((e,t)=>e[t]));this.diagonalElements.map((e=>Math.sqrt(this.SE**2*e)));this.SEY=Math.sqrt(this.y.reduce(((e,t)=>e+(t[0]-this.yMean)**2),0)/this.y.length);const o=i(this.x),s=o.map((e=>n(e)));this.betaNormalized=s.map(((e,t)=>e*this.beta[t+1]/this.SEY)),this.isDone=!0}}});const Z=(0,V.A)(P,[["render",L]]);var ee=Z;(0,a.Ef)(ee).mount("#app")}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,a,n,i){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],i=e[d][2];for(var s=!0,u=0;u<a.length;u++)(!1&i||o>=i)&&Object.keys(l.O).every((function(e){return l.O[e](a[u])}))?a.splice(u--,1):(s=!1,i<o&&(o=i));if(s){e.splice(d--,1);var r=n();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,n,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,o=a[0],s=a[1],u=a[2],r=0;if(o.some((function(t){return 0!==e[t]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(u)var d=u(l)}for(t&&t(a);r<o.length;r++)i=o[r],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(d)},a=self["webpackChunkmath_app"]=self["webpackChunkmath_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[504],(function(){return l(2849)}));a=l.O(a)})();
//# sourceMappingURL=app.9aa53dd1.js.map